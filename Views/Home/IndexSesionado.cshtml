@model IEnumerable<Eldertech.Models.Articulo>
@{
    ViewData["Title"] = "Inicio";
}

<h2>Últimos Artículos</h2>

@if (Model != null && Model.Any())
{
    <div class="articulos-grid">
        @foreach (var art in Model)
        {
            <div class="articulo">
                @if (art.Foto != null && art.Foto.Length > 0 && !string.IsNullOrWhiteSpace(art.FotoContentType))
                {
                    var base64 = Convert.ToBase64String(art.Foto);
                    var src = $"data:{art.FotoContentType};base64,{base64}";
                    <img src="@src" alt="@art.Titulo" class="articulo-img" />
                }
                <div class="articulo-info">
                    <h3>@art.Titulo</h3>
                    <p>@art.Subtitulo</p>
                    <p><b>@(art.AutorNombre ?? "Autor")</b> - @art.Fecha.ToShortDateString()</p>
                    <a asp-controller="Articulos" asp-action="Detalle" asp-route-id="@art.IDArticulo">Ver</a>
                </div>
            </div>
        }
    </div>
}
else
{
    <p>No hay artículos publicados todavía.</p>
}
