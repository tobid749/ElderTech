@model Eldertech.Models.Articulo
@{
    ViewData["Title"] = "Editar Artículo";
}

<h2>Editar Artículo</h2>

<form asp-action="Editar" asp-controller="Articulos" method="post" enctype="multipart/form-data">
    <input type="hidden" name="IDArticulo" value="@Model.IDArticulo" />
    <input type="hidden" name="Fecha" value="@Model.Fecha.ToString("o")" />

    <label>Título</label>
    <input type="text" name="Titulo" value="@Model.Titulo" required />

    <label>Subtítulo</label>
    <input type="text" name="Subtitulo" value="@Model.Subtitulo" />

    <label>Contenido</label>
    <textarea name="Texto" rows="6">@Model.Texto</textarea>

    <label>Video (URL)</label>
    <input type="text" name="Video" value="@Model.Video" />

    <p>Imagen actual:</p>
    @if (Model.Foto != null && Model.Foto.Length > 0 && !string.IsNullOrWhiteSpace(Model.FotoContentType))
    {
        var base64 = Convert.ToBase64String(Model.Foto);
        var src = $"data:{Model.FotoContentType};base64,{base64}";
        <img src="@src" alt="@Model.Titulo" style="max-width: 300px; height:auto;" />
    }
    else { <p><i>Sin imagen</i></p> }

    <label>Subir nueva imagen (opcional)</label>
    <input type="file" name="NuevaFoto" accept="image/*" />

    <button type="submit">Guardar cambios</button>
</form>


